{"version":3,"sources":["webpack:///./src/pages/goods-details/main.js","webpack:///./src/pages/goods-details/index.vue","webpack:///./src/pages/goods-details/index.vue?b324","webpack:///src/pages/goods-details/index.vue","webpack:///./src/components/footerBox.vue","webpack:///./src/components/footerBox.vue?aa43","webpack:///src/components/footerBox.vue","webpack:///./src/components/footerBox.vue?cd82","webpack:///./src/pages/goods-details/index.vue?6446"],"names":["app","$mount"],"mappings":";;;;;;;;;;;;;;;;;;AAAA;AACA;;AAEA,MAAMA,MAAM,IAAI,2CAAJ,CAAQ,uDAAR,CAAZ;AACAA,IAAIC,MAAJ,G;;;;;;;;ACJA;AAAA;AACA;AACA;AACA,wBAAkZ;AAClZ;AACA;AACA;AACA;AACA;AACsP;AACtP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+EAA+E,sDAAsD,IAAI;AACzI,mCAAmC;;AAEnC;AACA,YAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;;AAED;;;;;;;AC3CA,yC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACsBA;AACA;AACA;AACA;AACA;AACA;AACA,gBADA;AAEA,oBAFA;AAGA;AAHA,OADA,EAKA;AACA;AACA,eADA;AAEA,gBAFA;AAGA;AAHA,OANA;AAWA,qBAXA,EAWA;AACA,0BAZA,EAYA;AACA,4BAbA,EAaA;AACA,qBAdA,EAcA;AACA,yBAfA,EAeA;AACA,0BAhBA,EAgBA;AACA,wBAjBA,EAiBA;AACA,kBAlBA,EAkBA;AACA,kBAnBA,EAmBA;AACA;AACA;AACA;AADA,UADA;AAIA;AACA;AADA,UAJA;AAOA;AACA;AADA,UAPA;AAUA;AACA;AADA,UAVA;AAaA;AACA;AADA;AAbA,OApBA;AAqCA;AArCA;AAuCA,GAzCA;AA0CA;AACA,mFADA;AAEA;AAFA,GA1CA;AA8CA;AACA;AACA;AACA;AACA,wBADA;AAEA;AACA;AACA;AACA;AACA;AACA;AAPA;AASA;AACA,oDADA;AAEA,oBAFA;AAGA;AACA;AADA,OAHA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAtBA;AAwBA;AAlFA,G;;;;;;;;;;;ACxBA;AAAA;AACA;AACA;AACA,wBAA2Y;AAC3Y;AACA;AACA;AACA;AACA;AACkP;AAClP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+EAA+E,sDAAsD,IAAI;AACzI,mCAAmC;;AAEnC;AACA,YAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;;AAED;;;;;;;AC3CA,yC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACuDA;AACA;AACA;AACA,gBADA,EACA;AACA,kBAFA,EAEA;AACA,0BAHA,EAGA;AACA,uBAJA,EAIA;AACA;AACA,wBANA,EAMA;AACA,sBAPA,EAOA;AACA;AARA;AAUA,GAZA;AAaA;AACA;AACA;AADA,KADA;AAIA;AACA;AADA,KAJA;AAOA;AACA;AADA,KAPA;AAUA;AACA;AADA,KAVA;AAaA;AACA;AADA,KAbA;AAgBA;AACA;AADA,KAhBA;AAmBA;AACA,mBADA;AAEA;AACA;AACA;AAJA,KAnBA;AAyBA;AACA;AADA,KAzBA;AA4BA;AACA;AADA;AA5BA,GAbA;AA6CA;AACA;AACA;AACA,KAHA;AAIA;AACA;AACA,KANA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAdA;AAeA;AACA;AACA;AACA;AACA;AACA;AACA,KArBA;AAsBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAzDA;AA0DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BADA;AAEA,uBAFA;AAGA;AAHA;AAKA;AACA,0BADA;AAEA,yBAFA;AAGA;AACA;AACA;AALA;AAOA,KA9GA;AA+GA;AACA;AACA;AACA;AACA,qBADA;AAEA,0BAFA;AAGA;AAHA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AADA;AAGA,KA1IA;AA2IA;AACA;AACA,0BADA;AAEA;AACA;AACA;AAJA;AAMA;AACA;AADA;AAGA;AArJA;AA7CA,G;;;;;;;ACvDA,0BAA0B,aAAa,0BAA0B;AACjE;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,C;;;;;;;AC5JA,0BAA0B,aAAa,0BAA0B;AACjE;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,C","file":"static/js/pages/goods-details/main.js","sourcesContent":["import Vue from 'vue'\nimport App from './index'\n\nconst app = new Vue(App)\napp.$mount()\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/goods-details/main.js","var disposed = false\nfunction injectStyle (ssrContext) {\n  if (disposed) return\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":false,\\\"sourceMap\\\":false}!../../../node_modules/mpvue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-140bf36e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!px2rpx-loader?{\\\"baseDpr\\\":1,\\\"rpxUnit\\\":0.5}!postcss-loader?{\\\"sourceMap\\\":true}!../../../node_modules/mpvue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/mpvue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/mpvue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/mpvue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-140bf36e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../node_modules/mpvue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = \"src/pages/goods-details/index.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key.substr(0, 2) !== \"__\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] index.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-140bf36e\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-140bf36e\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/goods-details/index.vue\n// module id = 10\n// module chunks = 7","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"minimize\":false,\"sourceMap\":false}!./node_modules/mpvue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-140bf36e\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/px2rpx-loader?{\"baseDpr\":1,\"rpxUnit\":0.5}!./node_modules/postcss-loader/lib?{\"sourceMap\":true}!./node_modules/mpvue-loader/lib/selector.js?type=styles&index=0!./src/pages/goods-details/index.vue\n// module id = 11\n// module chunks = 7","<template>\n  <div class=\"container\">\n    <div class=\"swiper-list\">\n      <d-swiper :swiperList=\"swiperlist\" :styleObject=\"styleobject\"></d-swiper>\n    </div>\n    <div class=\"goods-info\">\n      <div class=\"goods-title\">{{goodsDetail.name}}</div>\n      <div class=\"goods-price\">¥ {{goodsDetail.minPrice}}</div>\n    </div>\n    <div class=\"goods-des-info\">\n      <div class=\"goods-text\">\n        <span>{{goodsDetail.goodsDescribe}}</span>\n      </div>\n    </div>\n    <footer-box :hideShopPopup=\"hideShopPopup\" \n    :goodsLabel=\"goodsLabel\" \n    :buyNumMin=\"buyNumMin\" :buyNumMax=\"buyNumMax\" :selectSizePrice=\"selectSizePrice\" :propertyChildIds=\"propertyChildIds\"\n    :propertyChildNames=\"propertyChildNames\"\n    :shopCarInfo=\"shopCarInfo\" :saveShopCar=\"saveShopCar\"></footer-box>\n  </div>\n</template>\n<script>\nimport swiper from '@/components/swiper'\nimport footerBox from '@/components/footerBox'\nexport default {\n  data(){\n    return {\n      goodsDetail:{\n        name:'',\n        minPrice:'',\n        goodsDescribe:''\n      },//商品详情对象\n      goodsLabel:{\n        pic:'',\n        name:'',\n        selectSizePrice: 0,\n      },\n      saveShopCar: {},//需要保存到购物车的商品\n      propertyChildIds: '',//规格属性id\n      propertyChildNames: '',//规格属性名\n      shopCarInfo: {},//设置在缓存的购物车信息   \n      hideShopPopup: true, //规格弹出框\n      hasMoreSelect: false,//是否有多种规格可选\n      selectSizePrice: 0,//单个选择商品价格\n      buyNumMin: 0, //最小购买数量\n      buyNumMax: 0, //最大购买数量\n      swiperlist:{\n                  item1:[{\n                        url: \"https://img.alicdn.com/imgextra/i4/1987905011/TB2zQTdhborBKNjSZFjXXc_SpXa_!!1987905011-0-item_pic.jpg_430x430q90.jpg\"\n                    }],\n                    item2: [{\n                        url: \"https://img.alicdn.com/imgextra/i2/2406931838/TB2BL3QbgFkpuFjSspnXXb4qFXa_!!2406931838.jpg_430x430q90.jpg\"\n                    }],\n                    item3: [{\n                        url: \"https://img.alicdn.com/imgextra/i3/2406931838/TB2RecrXNxmpuFjSZFNXXXrRXXa_!!2406931838.jpg_430x430q90.jpg\"\n                    }],\n                    item4: [{\n                        url: \"https://img.alicdn.com/imgextra/i2/2406931838/TB2ZlHoXNXkpuFjy0FiXXbUfFXa_!!2406931838.jpg_430x430q90.jpg\"\n                    }],\n                    item5: [{\n                        url: \"https://img.alicdn.com/imgextra/i2/2406931838/TB2wITFXY8kpuFjy0FcXXaUhpXa_!!2406931838.jpg_430x430q90.jpg\"\n                    }],\n        },\n      styleobject:'width:100%;height:750rpx;position:absolute;top:0;z-index:3'\n    }\n  },\n  components: {\n    'd-swiper':swiper,\n    footerBox,\n  },\n  onLoad: function(options){\n    // console.log(this.styleobject)\n      // console.log(options)\n    wx.getStorage({\n      key: 'shopCarInfo',\n      success: (res) =>{\n        // success\n        console.log(`initshopCarInfo:${res.data}`)\n        this.shopCarInfo = res.data;\n        this.shopNum = res.data.shopNum\n      }\n    })\n    wx.request({\n      url: 'http://localhost:3030/shop/goods/detail',\n      method: 'POST',\n      data: {\n        id: options.id\n      },\n      success: res =>{\n        // console.log(res);\n        const dataInfo = res.data.data.basicInfo;\n        this.saveShopCar = dataInfo;\n        this.goodsDetail.name = dataInfo.name;\n        this.goodsDetail.minPrice = dataInfo.minPrice;\n        this.goodsDetail.goodsDescribe = dataInfo.characteristic;\n\n        let goodsLabel = this.goodsLabel\n        goodsLabel = res.data.data;\n        // console.log(goodsLabel);\n        this.selectSizePrice = dataInfo.minPrice;\n        this.goodsLabel.pic = dataInfo.pic;\n        this.goodsLabel.name = dataInfo.name;\n        this.buyNumMax = dataInfo.stores;\n        this.buyNumMin = (dataInfo.stores > 0) ? 1 : 0;\n      }\n    })\n  }\n}\n</script>\n<style>\n.container{\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: column;\n  flex-wrap: wrap;\n}\n.swiper-list{\n width: 100%;\n height: 750rpx;\n}\n.goods-info{\n  margin-bottom: 24rpx;\n  width: 100%;\n  position: relative;\n  bottom: 200rpx;\n}\n.goods-info .goods-title{\n  box-sizing: border-box;\n  padding: 35rpx 35rpx 0 35rpx;\n  font-size: 32rpx;\n  line-height: 1.4;\n  color: #000;\n  background:#fff;\n}\n.goods-info .goods-price{\n   box-sizing:border-box;\n   padding: 35rpx 35rpx;\n   color:#e64340;\n   font-size: 28rpx;\n   font-weight: bold;\n   background:#fff;\n}\n.row-arrow{\n  width: 100%;\n  box-sizing: border-box;\n  padding: 0  120rpx 0 35rpx;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n  height: 102rpx;\n  font-size: 28rpx;\n  line-height: 102rpx;\n  margin:28rpx 0;\n  background: #fff url(https://cdn.it120.cc/images/weappshop/arrow-right.png) no-repeat 697rpx center;\n  background-size: 18rpx auto;\n}\n.goods-des-info{\n  width: 100%;\n  box-sizing: border-box;\n  background-color: #fff;\n}\n.label-title{\n  font-size:28rpx;\n  color:#000000;\n  padding: 30rpx;\n}\n.goods-text{\n  padding: 0 30rpx;\n  font-size:28rpx;\n  color:#666666;\n  line-height: 56rpx;\n  /* margin-bottom: 30rpx; */\n  margin-top:-150rpx;\n}\n.des-imgs{\n  width:100%;\n}\n.des-imgs image{\n  width: 100%;\n}\n.select-box{\n  width: 100%;\n  height: 102rpx;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/goods-details/index.vue?0d4ac96b","var disposed = false\nfunction injectStyle (ssrContext) {\n  if (disposed) return\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":false,\\\"sourceMap\\\":false}!../../node_modules/mpvue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-039a3dc8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!px2rpx-loader?{\\\"baseDpr\\\":1,\\\"rpxUnit\\\":0.5}!postcss-loader?{\\\"sourceMap\\\":true}!../../node_modules/mpvue-loader/lib/selector?type=styles&index=0!./footerBox.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/mpvue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/mpvue-loader/lib/selector?type=script&index=0!./footerBox.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/mpvue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-039a3dc8\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../node_modules/mpvue-loader/lib/selector?type=template&index=0!./footerBox.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-039a3dc8\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = \"src/components/footerBox.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key.substr(0, 2) !== \"__\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] footerBox.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-039a3dc8\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-039a3dc8\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/footerBox.vue\n// module id = 16\n// module chunks = 7","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"minimize\":false,\"sourceMap\":false}!./node_modules/mpvue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-039a3dc8\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/px2rpx-loader?{\"baseDpr\":1,\"rpxUnit\":0.5}!./node_modules/postcss-loader/lib?{\"sourceMap\":true}!./node_modules/mpvue-loader/lib/selector.js?type=styles&index=0!./src/components/footerBox.vue\n// module id = 17\n// module chunks = 7","<template>\n  <div class=\"container\">\n    <div class=\"footer-box\">\n      <div class=\"shop-cart-btn\" @click=\"goShopCar\">\n        <div class=\"shop-num\">{{shopNum}}</div>\n        购物车\n      </div>\n      <div class=\"join-shop-cart\" @click=\"addBtn\">加入购物车</div>\n      <div class=\"now-buy\" @click=\"tobuy\">立即购买</div>\n    </div>\n    <div class=\"show-popup\" :hidden=\"hideShopPopup\" >\n        <div class=\"popup-mask\" @click=\"closePopupTap\"></div>\n        <div class=\"popup-contents\">\n             <div class=\"pop-goods-info\">\n                <div class=\"pop-img-box\">\n                    <image :src=\"goodsLabel.pic\" class=\"goods-thumbnail\"/>\n                </div>\n                <div class=\"pop-goods-des\">\n                    <div class=\"pop-goods-title\">{{goodsLabel.name}}</div>\n                    <div class=\"pop-goods-price\">¥ {{selectSizePrice}}</div>\n                </div>\n                <div class=\"pop-goods-close\" @click=\"closePopupTap\"></div>\n             </div>\n             <div class=\"size-label-box\">\n                <div v-for=\"(property, x) in goodsLabel\" :key=\"x\" v-if=\"property.name\">\n                <div class=\"label\">{{property.name}}</div> \n                <div class=\"label-item-box\">\n                    <div class=\"label-item\" :class=\"p.active ? 'active' : '' \" v-for=\"(p, i) in property\" @click=\"labelItemTap\" :key=\"i\" :data-propertyindex=\"idx\" :data-propertyid=\"index\" :data-propertyname=\"property.name\" :data-propertychildindex=\"index\" :data-propertychildid=\"p.id\" :data-propertychildname=\"p.name\">\n                        {{p.name}}\n                    </div> \n                </div>\n                </div>\n             </div> \n             <div class=\"buy-num-box\">\n                <div class=\"num-label\">购买数量</div>\n                <div class=\"num-box\">\n                    <div class=\"num-decrease\" :class=\"buyNumber == buyNumMin ? 'hui': ''\" @click=\"numdecreaseTap\">-</div>\n                    <div class=\"num-input\">\n                       <input  type=\"number\" :value=\"buyNumber\" disabled/>\n                    </div>\n                    <div class=\"num-increase\" :class=\"buyNumber== buyNumMax ? 'hui': ''\" @click=\"numincreaseTap\">+</div>\n                </div>\n             </div>  \n             <div v-if=\"!isBuy\" class=\"popup-join-btn\" @click=\"addShopCar\">\n                加入购物车\n             </div>\n             <div v-else class=\"popup-join-btn\" @click=\"tobuy\">\n                立即购买\n            </div>\n        </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data(){\n    return {\n      shopNum:0,//全部购买数量\n      buyNumber: 0, //单个购买数量\n      hasMoreSelect: false,//是否有多种规格可选\n      selectSize:'选择:',//选择规格\n      //selectSizePrice: 0,单个选择商品价格\n      selectSize: '选择: ',//选择规格\n      canSubmit: false,//是否能添加到购物车,\n      isBuy: false\n    }\n  },\n  props:{\n    goodsLabel: {\n      type: Object,\n    },\n    selectSizePrice: {\n      type: Number,\n    },\n    buyNumMax: {\n      type: Number,\n    },\n    buyNumMin: {\n      type: Number,\n    },\n    propertyChildIds: {\n      type: Number,\n    },\n    propertyChildNames: {\n      type: String\n    },\n    hideShopPopup: {\n      type: Boolean,\n      default() {\n        return true\n      }\n    },\n    shopCarInfo: {\n      type:Object\n    },\n    saveShopCar: {\n      type: Object\n    }\n  },\n  methods: {\n    addBtn(){\n      this.hideShopPopup = false;\n    },\n    closePopupTap(){\n      this.hideShopPopup = true;\n    },\n    numincreaseTap(){\n    let buyNumber = this.buyNumber\n    if (buyNumber < this.buyNumMax){\n       buyNumber++\n    }\n    // console.log(buyNumber)\n    this.buyNumber = buyNumber\n    },\n    numdecreaseTap() {\n      let buyNumber = this.buyNumber\n      if (buyNumber > this.buyNumMin) {\n      buyNumber--\n    }\n      this.buyNumber = buyNumber\n  },\n  labelItemTap(e){\n    console.log(e);\n    let propertyindex = e.currentTarget.dataset.propertyindex;\n    let propertiesArr = this.goodsLabel.property;\n    let curProperty = propertiesArr[propertyindex];\n    let curProperty_childs = curProperty.childsCurGoods;\n    for(let i = 0; i < curProperty_childs.length; i++){\n      curProperty_childs[i].active = false;\n    }\n    curProperty_childs[e.currentTarget.dataset.propertyid].active = true;\n    let needSelectNum = propertiesArr.length;\n    let curSelectNum = 0;\n    let propertyChildIds = '';\n    let propertyChildNames = '';\n    let canSubmit = false;\n    for(let i = 0; i < propertiesArr.length; i++){\n      canSelectNum++\n      let properties_childs = propertiesArr[i].childsCurGoods;\n      for(let j = 0; j < properties_childs.length; j++){\n        if(properties_childs[j].active){\n          properties_childs += propertiesArr[i].id + ':' +properties_childs[j].id + ',';\n          propertyChildNames += propertiesArr[i].name + properties_childs[j].name + ''\n        }\n      }\n    }\n    if(needSelectNum == curSelectNum){\n      canSubmit = true;\n    }\n    this.selectSizePrice = curProperty_childs[e.currentTarget.dataset.propertyid].price;\n    this.buyNumMax = 1000;\n    this.propertyChildIds = propertyChildIds;\n    this.propertyChildNames = propertyChildNames;\n    this.buyNumber = 1;\n    this.goodsLabel = this.goodsLabel;\n    this.canSubmit = canSubmit;\n  },\n  addShopCar(){\n    let shopCarMap = {};\n    const save = this.saveShopCar;\n    shopCarMap.goodsId = save.id;\n    shopCarMap.pic = save.pic;\n    shopCarMap.name = save.name;\n    shopCarMap.label = this.propertyChildNames;\n    shopCarMap.propertyChildIds = this.propertyChildIds;\n    shopCarMap.price = this.selectSizePrice;\n    shopCarMap.left = '';\n    shopCarMap.active = true;\n    shopCarMap.number = this.buyNumber;\n    shopCarMap.logisticsType = save.logisticsId;\n    shopCarMap.logistics = save.logistics;\n    this.closePopupTap();\n    var shopCarInfo = this.shopCarInfo;\n    if(!shopCarInfo.shopNum){\n      shopCarInfo.shopNum = 0\n    }\n    if(!shopCarInfo.shoplist){\n      shopCarInfo.shoplist = []\n    }\n    var hasSameGoodsindex = -1;\n    for(var i = 0; i < shopCarInfo.shoplist.length; i++){\n      var tamShopCarMap = shopCarInfo.shoplist[i];\n      if(tamShopCarMap.goodsId === shopCarMap.goodsId && shopCarMap.propertyChildIds == tamShopCarMap.propertyChildIds){\n        shopCarMap.number = shopCarMap.number + tamShopCarMap.number;\n        hasSameGoodsindex = i;\n        break;\n      }\n    }\n    shopCarInfo.shopNum = shopCarInfo.shopNum + this.buyNumber;\n    if(hasSameGoodsindex > -1){\n      shopCarInfo.shoplist.splice(hasSameGoodsindex, 1, shopCarMap)\n    } else {\n      shopCarInfo.shoplist.push(shopCarMap);\n    }\n    this.shopCarInfo = shopCarInfo;\n    this.shopNum = shopCarInfo.shopNum;\n    // this.closePopupTap();\n    wx.showToast({\n      title: '加入购物车🛒成功！',\n      icon: 'success',\n      duration: 2000\n    })\n    wx.setStorage({\n      key: 'shopCarInfo',\n      data: shopCarInfo,\n      success: function(res){\n        //success\n      }\n    })\n  },\n  tobuy(){\n    console.log(this.canSubmit);\n    if(this.buyNumber < 1){\n      wx.showModal({\n        title: '提示',\n        content: '暂时缺货哦',\n        showCancel: false\n      })\n      return\n    }\n    let shopCarMap = {};\n    const save = this.saveShopCar;\n    shopCarMap.goodsId = save.id;\n    shopCarMap.pic = save.pic;\n    shopCarMap.name = save.name;\n    shopCarMap.label = this.propertyChildNames;\n    shopCarMap.propertyChildIds = this.propertyChildIds;\n    shopCarMap.price = this.selectSizePrice;\n    shopCarMap.left = '';\n    shopCarMap.active = true;\n    shopCarMap.number = this.buyNumber;\n    shopCarMap.logisticsType = save.logisticsId;\n    shopCarMap.logistics = save.logistics;\n\n    wx.navigateTo({\n      url: `订单页面路径?detail=${JSON.stringify(shopCarMap)}`\n    })\n  },\n  goShopCar() {\n    wx.getStorage({\n      key: 'shopCarInfo',\n      success: function(res) {\n        console.log(res.data.shoplist)\n      }\n    })\n    wx.reLaunch({\n      url: '../order/main'\n    })\n  }\n  },\n}\n</script>\n<style scoped>\n.container{\n  width: 100%;\n  height: 100%;\n}\n.footer-box{\n  width: 100%;\n  height: 100rpx;\n  background-color: #fff;\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  display: flex;\n  box-shadow:0 0 8rpx 0 ;\n}\n.footer-box .shop-cart-btn{\n  position: relative;\n  width: 150rpx;\n  height: 100%;\n  line-height: 100rpx;\n  text-align: center;\n  padding-top: 26rpx;\n  font-size:20rpx;\n  color:#acacb7;\n  box-sizing: border-box;\n  background:url(\"https://cdn.it120.cc/images/weappshop/cart.png\") no-repeat center 21rpx;\n  background-size: 44rpx auto;\n}\n.footer-box .shop-cart-btn .shop-num{\n  position: absolute;\n  color:#e64340;\n  left: 80rpx;\n  top:-20rpx;\n}\n.footer-box .join-shop-cart{\n  text-align: center;\n  width: 300rpx;\n  height: 100%;\n  line-height: 100rpx;\n  background-color: #ff6850;\n  color:#fff;\n  font-size: 34rpx;\n}\n.footer-box .now-buy{\n  text-align: center;\n  height: 100%;\n  width: 300rpx;\n  line-height: 100rpx;\n  background-color: #e64340;\n  color:#fff;\n  font-size: 34rpx;\n}\n.show-popup{\n  position: fixed;\n  top: 0;\n  left: 0;\n  width:100%;\n  height: 100%;\n  z-index: 4;\n}\n.popup-mask{\n  position: fixed;\n  top: 0;\n  left: 0;\n  width:100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  z-index: 5;\n}\n.popup-contents{\n  position: fixed;\n  left: 0;\n  bottom: 0;\n  width:100%;\n  background-color: #fff;\n  z-index: 6;\n}\n.pop-goods-info{\n  display: flex;\n  align-items: center;\n  margin-left: 30rpx;\n  padding: 30rpx 0;\n  border-bottom: 1px solid #eee;\n}\n.pop-img-box{\n  width: 120rpx;\n  height: 120rpx;\n  overflow: hidden;\n  margin-right: 26rpx;\n}\n.pop-img-box .goods-thumbnail{\n  width: 120rpx;\n  height: 120rpx;\n}\n.pop-goods-title{\n  width: 484rpx;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n  font-size:26rpx;\n  color:#000000;\n}\n.pop-goods-price{\n  font-size:26rpx;\n  color:#e64340;\n  margin-top:20rpx; \n}\n.pop-goods-close{\n  width: 36rpx;\n  height: 36rpx;\n  flex: 1;\n  background:url(\"https://cdn.it120.cc/images/weappshop/popup-close.png\") no-repeat center center;\n  background-size: 36rpx auto;\n  align-self: flex-start;\n  margin-top: -10rpx;\n}\n.size-label-box  .label{\n  font-size:26rpx;\n  color:#000;\n  padding-left: 30rpx;\n  padding: 30rpx 0 20rpx 30rpx;\n}\n.size-label-box .label-item-box{\n  display: flex;\n  margin-left: 30rpx;\n  flex-direction: row;\n  flex-wrap:wrap;\n}\n.size-label-box .label-item{\n  font-size:26rpx;\n  color:#000;\n  padding: 14rpx 20rpx;\n  border: 1px solid #ddd;\n  border-radius: 6rpx;\n  margin: 0 20rpx 20rpx 0;\n}\n.size-label-box .label-item.active{\n  color: #e64340;\n  border: 1px solid #e64340;\n}\n.buy-num-box{\n   display: flex;\n   justify-content: space-between;\n   padding: 30rpx 30rpx 48rpx 0;\n   margin-left: 30rpx; \n   border-top: 1px solid #eee;\n   margin-top: 30rpx;\n   margin-right:40rpx;\n   align-items: center;\n}\n.num-label{\n  font-size:26rpx;\n  color:#000000;\n}\n.buy-num-box .num-box{\n     display: flex;\n}\n.buy-num-box .num-box .num-decrease,\n.buy-num-box .num-box .num-input,\n.buy-num-box .num-box .num-increase{\n  width: 80rpx;\n  height: 64rpx;\n  line-height: 62rpx;\n  text-align: center;\n  border: 1px solid #eee;\n}\n.buy-num-box .num-box .num-input{\n  font-size: 28rpx;\n}\n.buy-num-box .num-box .num-input input{\n  height: 100%;\n}\n.popup-join-btn{\n  width: 100%;\n  height: 89rpx;\n  text-align: center;\n  line-height: 89rpx;\n  font-size:34rpx;\n  color:#ffffff;\n  background-color: #e64340;\n}\n.buy-num-box .num-box .hui{\n  background-color: #f5f5f9;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/footerBox.vue?8884ab7e","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"container\"\n  }, [_c('div', {\n    staticClass: \"footer-box\"\n  }, [_c('div', {\n    staticClass: \"shop-cart-btn\",\n    attrs: {\n      \"eventid\": '0'\n    },\n    on: {\n      \"click\": _vm.goShopCar\n    }\n  }, [_c('div', {\n    staticClass: \"shop-num\"\n  }, [_vm._v(_vm._s(_vm.shopNum))]), _vm._v(\"\\n      购物车\\n    \")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"join-shop-cart\",\n    attrs: {\n      \"eventid\": '1'\n    },\n    on: {\n      \"click\": _vm.addBtn\n    }\n  }, [_vm._v(\"加入购物车\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"now-buy\",\n    attrs: {\n      \"eventid\": '2'\n    },\n    on: {\n      \"click\": _vm.tobuy\n    }\n  }, [_vm._v(\"立即购买\")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"show-popup\",\n    attrs: {\n      \"hidden\": _vm.hideShopPopup\n    }\n  }, [_c('div', {\n    staticClass: \"popup-mask\",\n    attrs: {\n      \"eventid\": '3'\n    },\n    on: {\n      \"click\": _vm.closePopupTap\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"popup-contents\"\n  }, [_c('div', {\n    staticClass: \"pop-goods-info\"\n  }, [_c('div', {\n    staticClass: \"pop-img-box\"\n  }, [_c('image', {\n    staticClass: \"goods-thumbnail\",\n    attrs: {\n      \"src\": _vm.goodsLabel.pic\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"pop-goods-des\"\n  }, [_c('div', {\n    staticClass: \"pop-goods-title\"\n  }, [_vm._v(_vm._s(_vm.goodsLabel.name))]), _vm._v(\" \"), _c('div', {\n    staticClass: \"pop-goods-price\"\n  }, [_vm._v(\"¥ \" + _vm._s(_vm.selectSizePrice))])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"pop-goods-close\",\n    attrs: {\n      \"eventid\": '4'\n    },\n    on: {\n      \"click\": _vm.closePopupTap\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"size-label-box\"\n  }, _vm._l((_vm.goodsLabel), function(property, x) {\n    return (property.name) ? _c('div', {\n      key: x\n    }, [_c('div', {\n      staticClass: \"label\"\n    }, [_vm._v(_vm._s(property.name))]), _vm._v(\" \"), _c('div', {\n      staticClass: \"label-item-box\"\n    }, _vm._l((property), function(p, i) {\n      return _c('div', {\n        key: i,\n        staticClass: \"label-item\",\n        class: p.active ? 'active' : '',\n        attrs: {\n          \"data-propertyindex\": _vm.idx,\n          \"data-propertyid\": _vm.index,\n          \"data-propertyname\": property.name,\n          \"data-propertychildindex\": _vm.index,\n          \"data-propertychildid\": p.id,\n          \"data-propertychildname\": p.name,\n          \"eventid\": '5-' + x + '-' + i\n        },\n        on: {\n          \"click\": _vm.labelItemTap\n        }\n      }, [_vm._v(\"\\n                      \" + _vm._s(p.name) + \"\\n                  \")])\n    }))]) : _vm._e()\n  })), _vm._v(\" \"), _c('div', {\n    staticClass: \"buy-num-box\"\n  }, [_c('div', {\n    staticClass: \"num-label\"\n  }, [_vm._v(\"购买数量\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"num-box\"\n  }, [_c('div', {\n    staticClass: \"num-decrease\",\n    class: _vm.buyNumber == _vm.buyNumMin ? 'hui' : '',\n    attrs: {\n      \"eventid\": '6'\n    },\n    on: {\n      \"click\": _vm.numdecreaseTap\n    }\n  }, [_vm._v(\"-\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"num-input\"\n  }, [_c('input', {\n    attrs: {\n      \"type\": \"number\",\n      \"value\": _vm.buyNumber,\n      \"disabled\": \"\"\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"num-increase\",\n    class: _vm.buyNumber == _vm.buyNumMax ? 'hui' : '',\n    attrs: {\n      \"eventid\": '7'\n    },\n    on: {\n      \"click\": _vm.numincreaseTap\n    }\n  }, [_vm._v(\"+\")])])]), _vm._v(\" \"), (!_vm.isBuy) ? _c('div', {\n    staticClass: \"popup-join-btn\",\n    attrs: {\n      \"eventid\": '9'\n    },\n    on: {\n      \"click\": _vm.addShopCar\n    }\n  }, [_vm._v(\"\\n              加入购物车\\n           \")]) : _c('div', {\n    staticClass: \"popup-join-btn\",\n    attrs: {\n      \"eventid\": '8'\n    },\n    on: {\n      \"click\": _vm.tobuy\n    }\n  }, [_vm._v(\"\\n              立即购买\\n          \")])])])])\n}\nvar staticRenderFns = []\nrender._withStripped = true\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-hot-reload-api\").rerender(\"data-v-039a3dc8\", esExports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/mpvue-loader/lib/template-compiler?{\"id\":\"data-v-039a3dc8\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./node_modules/mpvue-loader/lib/selector.js?type=template&index=0!./src/components/footerBox.vue\n// module id = 19\n// module chunks = 7","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"container\"\n  }, [_c('div', {\n    staticClass: \"swiper-list\"\n  }, [_c('d-swiper', {\n    attrs: {\n      \"swiperList\": _vm.swiperlist,\n      \"styleObject\": _vm.styleobject,\n      \"mpcomid\": '0'\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"goods-info\"\n  }, [_c('div', {\n    staticClass: \"goods-title\"\n  }, [_vm._v(_vm._s(_vm.goodsDetail.name))]), _vm._v(\" \"), _c('div', {\n    staticClass: \"goods-price\"\n  }, [_vm._v(\"¥ \" + _vm._s(_vm.goodsDetail.minPrice))])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"goods-des-info\"\n  }, [_c('div', {\n    staticClass: \"goods-text\"\n  }, [_c('span', [_vm._v(_vm._s(_vm.goodsDetail.goodsDescribe))])])]), _vm._v(\" \"), _c('footer-box', {\n    attrs: {\n      \"hideShopPopup\": _vm.hideShopPopup,\n      \"goodsLabel\": _vm.goodsLabel,\n      \"buyNumMin\": _vm.buyNumMin,\n      \"buyNumMax\": _vm.buyNumMax,\n      \"selectSizePrice\": _vm.selectSizePrice,\n      \"propertyChildIds\": _vm.propertyChildIds,\n      \"propertyChildNames\": _vm.propertyChildNames,\n      \"shopCarInfo\": _vm.shopCarInfo,\n      \"saveShopCar\": _vm.saveShopCar,\n      \"mpcomid\": '1'\n    }\n  })], 1)\n}\nvar staticRenderFns = []\nrender._withStripped = true\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-hot-reload-api\").rerender(\"data-v-140bf36e\", esExports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/mpvue-loader/lib/template-compiler?{\"id\":\"data-v-140bf36e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./node_modules/mpvue-loader/lib/selector.js?type=template&index=0!./src/pages/goods-details/index.vue\n// module id = 20\n// module chunks = 7"],"sourceRoot":""}